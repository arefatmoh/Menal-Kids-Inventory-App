import { useEffect } from 'react';

export function useFavicon() {
  useEffect(() => {
    // Create SVG string for the favicon
    const svgString = `
      <svg xmlns="http://www.w3.org/2000/svg" width="790" height="341" viewBox="0 0 790 341" version="1.1">
        <path d="M -0 170.501 L -0 341.003 395.250 340.751 L 790.500 340.500 790.753 170.250 L 791.006 0 395.503 0 L 0 0 -0 170.501 M 0.489 171 C 0.489 264.775, 0.606 303.138, 0.750 256.250 C 0.894 209.362, 0.894 132.638, 0.750 85.750 C 0.606 38.862, 0.489 77.225, 0.489 171 M 76.227 54.698 C 73.877 54.928, 72.213 55.536, 72.529 56.047 C 72.845 56.559, 72.518 56.757, 71.802 56.488 C 70.382 55.955, 65.309 62.643, 66.347 63.680 C 66.697 64.030, 66.513 64.882, 65.940 65.573 C 65.366 66.264, 64.766 69.681, 64.608 73.165 C 64.332 79.216, 64.848 81.108, 68.925 88.979 C 70.305 91.642, 76.073 92.073, 110.109 92.057 C 134.606 92.045, 144.772 91.695, 147.609 90.766 C 149.749 90.065, 151.275 89.192, 151 88.826 C 150.725 88.460, 151.549 87.045, 152.831 85.680 C 154.907 83.470, 155.162 82.234, 155.171 74.350 C 155.182 65.116, 153.818 59.377, 151.895 60.565 C 151.133 61.036, 151.015 60.507, 151.517 58.875 C 151.919 57.569, 151.891 56.839, 151.454 57.254 C 151.017 57.668, 149.499 57.218, 148.080 56.254 C 145.761 54.677, 142.217 54.489, 113 54.389 C 95.125 54.328, 78.577 54.467, 76.227 54.698" fill="#D0B9A7"/>
        <path d="M 217.549 59.271 C 214.409 61.985, 213.704 63.304, 213.401 67.021 C 213.201 69.484, 212.539 73.345, 211.930 75.600 C 210.923 79.333, 211.032 86.348, 212.273 97.750 C 212.604 100.799, 212.369 102, 211.441 102 C 210.729 102, 209.039 104.420, 207.685 107.377 C 205.292 112.604, 203.131 123.523, 200.633 143.010" fill="#714329"/>
      </svg>
    `;

    // Convert SVG to data URL
    const svg = new Blob([svgString], { type: 'image/svg+xml' });
    const url = URL.createObjectURL(svg);

    // Update favicon
    let link = document.querySelector<HTMLLinkElement>("link[rel~='icon']");
    if (!link) {
      link = document.createElement('link');
      link.rel = 'icon';
      document.head.appendChild(link);
    }
    link.href = url;

    // Cleanup
    return () => {
      URL.revokeObjectURL(url);
    };
  }, []);
}
